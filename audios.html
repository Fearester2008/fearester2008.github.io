<!DOCTYPE html>
<html lang="en">

    <head>
        <meta property="og:type" content="website">
        <meta property="og:site_name" content="Silly music audios">
        <meta property="og:description" content="List of sillie's HQ Music Files.">
        <meta property="og:footer" content="Literally, awesome">
        <meta name="theme-color" media="(prefers-color-scheme: dark)" content="brown" />
        <meta property="og:color" content="#7289DA">
        <meta property="og:image" content="https://raw.githubusercontent.com/Stefan2008Git/FNF-SB-Engine/main/assets/preload/images/credits/stefan.png">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Funny Audio Files</title>
        <link rel="stylesheet" href="./style.css">
        <link rel="icon" type="image/x-icon" href="./assets/Stefan2008.png">
    </head>

    <body style="overflow-y: auto;">
        <div style="width: 100%; height: 100%;" id="loadScreen">
            <div class="LoadingScreen">
                <img src="https://www.svgrepo.com/show/448500/loading.svg" width="50px" class="loadingImg">
                <h1 style="margin-top: auto; margin-bottom: auto; margin-left: 20px;">Loading Files...</h1>
            </div>

        </div>
        <div class="head hideThis" id="entirePage">
            <div class="usnHandle">
                <h1 class="nameTxt">Silly Music</h1>
            </div>
            <p>Silly musics.</p>
            <p style="font-size: 13px;">They're all uncompressed WAV files, which means all audios here are High Quality :).</p>
            <p style="font-size: 13px; margin-bottom: 20px;">Last updated: June 27th, 2024</p>
            <div class="players">
                <div class="audio-player" style="background-image: url('./assets/images/papyrus.png');">
                    <p class="audio-name">Box (OMFG Style)</p>
                    <div class="audio-controls">
                        <button id="playPauseBtn">
                            <img src="https://www.svgrepo.com/show/512674/play-1003.svg" id="playPauseIcon">
                        </button>
                        <div class="progress-bar" id="progressBar">
                            <div class="progress-fill" id="progressFill"></div>
                        </div>
                        <p class="audio-time" id="audioTime">0:00</p>
                    </div>
                    <audio id="audio">
                        <source src="./assets/audio/nyehehebonetrousle.wav" type="audio/mpeg">
                        Your browser does not support the audio element.
                    </audio>
                </div>
            </div>
            <p>(The audio list will be continuously updated)</p>
        </div>
    </body>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(()=>{ // just in case
                document.getElementById("entirePage").classList.remove("hideThis");
                document.getElementById("loadScreen").classList.add("hideThis");
                const audioPlayers = document.querySelectorAll('.audio-player');
        
                audioPlayers.forEach(player => {
                    const audio = player.querySelector('audio');
                    const playPauseBtn = player.querySelector('#playPauseBtn');
                    const playPauseIcon = player.querySelector('#playPauseIcon');
                    const progressBar = player.querySelector('.progress-bar');
                    const progressFill = player.querySelector('.progress-fill');
                    const audioTime = player.querySelector('.audio-time');
        
                    let isDragging = false;

                    audio.volume = 1; // there i set it to MAX.
        
                    playPauseBtn.addEventListener('click', () => {
                        if (audio.paused) {
                            audio.play();
                            playPauseIcon.src = "https://www.svgrepo.com/show/512622/pause-1006.svg";
                        } else {
                            audio.pause();
                            playPauseIcon.src = "https://www.svgrepo.com/show/512674/play-1003.svg";
                        }
                    });
        
                    audio.addEventListener('timeupdate', () => {
                        if (!isDragging) {
                            const percentage = (audio.currentTime / audio.duration) * 100;
                            progressFill.style.width = `${percentage}%`;
                        }
        
                        // i get confused here loll
                        const minutes = Math.floor(audio.currentTime / 60);
                        const seconds = Math.floor(audio.currentTime % 60);
                        audioTime.textContent = `${minutes}:${seconds < 10 ? '0' + seconds : seconds}`;
                    });
        
                    progressBar.addEventListener('mousedown', (e) => {
                        isDragging = true;
                        e.preventDefault();
                        updateProgress(e);
                    });
        
                    document.addEventListener('mousemove', (e) => {
                        if (isDragging) {
                            e.preventDefault(); 
                            updateProgress(e);
                        }
                    });

                    document.addEventListener('mouseup', (e) => {
                        if (isDragging) {
                            updateProgress(e);
                            isDragging = false;
                        }
                    });
        
                    const updateProgress = (e) => {
                        const rect = progressBar.getBoundingClientRect();
                        const offsetX = e.clientX - rect.left;
                        const percentage = Math.min(Math.max(offsetX / rect.width, 0), 1);
                        const newTime = percentage * audio.duration;
                        audio.currentTime = newTime;
                        progressFill.style.width = `${percentage * 100}%`;
                    };
                });
            }, 1000);
        });
    </script>
    
    
</html>